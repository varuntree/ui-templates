<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Content Manager</title>
    <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
</head>
<body>
    <div id="app"></div>
    <!-- Import the CMS library -->
    <script src="https://unpkg.com/decap-cms@^3.0.0/dist/decap-cms.js"></script>
    <!-- Your built Vite bundle that includes the CMS setup and component logic -->
    <script src="https://unpkg.com/decap-cms@^3.0.0/dist/decap-cms.js"></script>
<script>
  // Register a custom preview style
  CMS.registerPreviewStyle("/path/to/your/custom-style.css");

  // Create a custom preview component for a collection named "buttons"
  var ButtonPreview = createClass({
    render: function() {
      var entry = this.props.entry;
      var buttonColor = entry.getIn(['data', 'buttoncolor']);
      var size = entry.getIn(['data', 'size']);
      var edge = entry.getIn(['data', 'edge']);

      var buttonStyle = {
        backgroundColor: buttonColor,
        padding: size === 'small' ? '8px 16px' : size === 'medium' ? '12px 24px' : '16px 32px',
        borderRadius: edge === 'rounded' ? '4px' : edge === 'pill' ? '20px' : '0',
        color: 'white',
        fontWeight: 'bold',
        border: 'none',
        cursor: 'pointer'
      };

      return h('div', {},
        h('h2', {}, 'Button Preview'),
        h('button', {style: buttonStyle}, entry.getIn(['data', 'label']))
      );
    }
  });

  // Register the custom preview template for the "buttons" collection
  CMS.registerPreviewTemplate("buttons", ButtonPreview);
</script>
</body>
</html>
